{% extends 'base.html.twig' %}

{% block title %}Toutes les groupes{% endblock %}

{% block body %}
    {{ parent() }}
    <a href="{{ path("activity_group_new") }}" class="btn green accent-4">Nouveau groupe</a>

    <div class="row">
        <div class="col s12">
            <h4>Toutes les groupes</h4>

            <ul class="collapsible popout">
                {% for activity in activities %}
                    {% if activity.activityGroups is not empty %}
                        <li>
                            <div class="collapsible-header teal lighten-3 white-text">
                                {{ activity.name }}
                            </div>
                            <div class="collapsible-body">
                                <a class='btn green accent-4' href='{{ path('activity_group_assign',  {'id': activity.id}) }}' >Assigner des Ã©tudiants</a>
                                <table>
                                    <thead>
                                    <th>Nom</th>
                                    <th>Action</th>
                                    </thead>
                                    <tbody>
                                    {% for group in activity.activityGroups %}
                                        <tr>
                                            <td>
                                                {{ group.name }}
                                            </td>
                                            <td>
                                                <a href="{{ path("activity_group_edit", {'id': group.id}) }}"><i class="material-icons">edit</i></a>
                                                <a href="{{ path("activity_group_delete", {'id': group.id}) }}"><i class="material-icons red-text text-accent-4">delete</i></a>
                                            </td>
                                        </tr>
                                    {% endfor %}
                                    </tbody>
                                </table>
                            </div>
                        </li>
                    {% endif %}
                {% endfor %}
            </ul>
        </div>
    </div>

{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script type="text/javascript" src="{{ asset('js/select.js') }}"></script>
    <script type="text/javascript" src="{{ asset('js/collapse.js') }}"></script>
{% endblock %}